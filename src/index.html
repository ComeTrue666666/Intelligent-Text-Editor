<!-- src/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <title>Adaptive Text Editor - Stage 2</title>


  <!-- Base styles -->

  <link rel="stylesheet" href="./styles/base.css" />
  <link rel="stylesheet" href="./styles/toolbar.css" />
  <link rel="stylesheet" href="./styles/editor.css" />
  <script src="./toolbar/usageTracker.js"></script>
  <script src="./toolbar/adaptiveToolbarEngine.js"></script>
  <script src="./toolbar/toolbarView.js"></script>
  <script src="./predictive/listRules.js"></script>
  <script src="./predictive/headingRules.js"></script>
  <script src="./predictive/predictiveEngine.js"></script>

</head>
<body>
  <div id="app">
    <div class="workspace">
      <div class="writing-column">
        <div id="toolbar">
          <div class="toolbar-header">
            <div class="toolbar-tabs">
              <button
                id="file-tab-toggle"
                class="toolbar-tab"
                type="button"
                aria-haspopup="true"
                aria-expanded="false"
              >
                File
              </button>
              <div id="file-menu" class="toolbar-tab-menu" hidden>
                <button id="save-as-txt" type="button">Save as .txt</button>
                <button id="save-as-pdf" type="button">Save as PDF</button>
              </div>
            </div>
            <span>Toolbar</span>
            <div class="toolbar-actions">
              <select id="toolbar-position-select" aria-label="Toolbar position">
                <option value="top" selected>Top</option>
                <option value="bottom">Bottom</option>
                <option value="left">Left</option>
                <option value="right">Right</option>
              </select>
              <select id="toolbar-mode-select">

              </select>
              <button id="toolbar-reset-sizes" class="toolbar-reset-btn" type="button">Reset sizes</button>
              <button
                id="theme-toggle"
                class="toolbar-theme-toggle"
                type="button"
                aria-label="Toggle theme"
                title="Toggle theme"
              >
                ☾
              </button>
            </div>
          </div>

          <div id="toolbar-main"></div>
          <div id="toolbar-more"></div>
        </div>

        <div
          id="editor"
          class="editor"
          contenteditable="true"
          spellcheck="true"
        ></div>
      </div>

      <div id="column-resizer" class="column-resizer" role="separator" aria-label="Resize panels" aria-orientation="vertical" tabindex="0"></div>

      <div class="assistant-column">
        <div id="ai-panel">
          <div class="ai-row">
            <textarea id="ai-prompt" placeholder="Ask the AI to rewrite, shorten, or change tone..." rows="3"></textarea>
            <div class="ai-actions">
              <input
                id="ai-upload-input"
                type="file"
                accept=".txt,.md,.csv,.json,.log,.html,.htm,.pdf,image/*"
                hidden
              />
              <button id="ai-run" type="button" class="ai-button-primary">Ask AI</button>
              <button id="ai-apply" type="button" aria-label="Apply to selection" title="Apply to selection">⤵</button>
              <button id="ai-upload" type="button" aria-label="Upload document" title="Upload document">⭳</button>
              <button id="ai-toggle-history" type="button" aria-expanded="true" aria-label="Collapse history" title="Collapse history">▾</button>
              <span id="ai-status">Idle</span>
            </div>
          </div>
          <div class="ai-history-header">
            <span>Chat history</span>
            <button id="ai-new-chat" type="button" aria-label="New chat" title="New chat">⟳</button>
          </div>
          <div id="ai-history" class="ai-history" aria-live="polite"></div>
        </div>
      </div>
    </div>
  </div>


  <script type="module" src="./renderer.js"></script>
</body>
</html>
